# 3D分子可视化卡片应用

这是一个基于Flutter和3Dmol.js的3D分子可视化应用，可以在卡片中展示立体化学分子结构。

## 特点

- 使用Flutter开发的跨平台应用
- 3Dmol.js提供强大的分子3D渲染功能
- 支持多种分子显示风格（球棍模型、球模型、卡通模型）
- 支持多种分子文件格式（PDB、MOL、SDF、XYZ）
- 简洁美观的卡片设计
- 实时3D交互（旋转、缩放等）

## 项目结构

```
lego/
├── assets/
│   ├── js/
│   │   └── molecule_viewer.html     # 3Dmol.js分子查看器
│   └── models/
│       ├── water.pdb                # 水分子示例
│       ├── caffeine.pdb             # 咖啡因分子示例
│       └── hemoglobin.pdb           # 血红蛋白片段示例
├── lib/
│   └── main.dart                    # Flutter应用主代码
├── ios/                             # iOS平台相关代码
└── pubspec.yaml                     # Flutter项目配置
```

## 技术实现

本项目采用了以下技术栈：

1. **Flutter框架**：
   - 负责整体应用结构、界面设计和用户交互
   - 使用WebView作为3Dmol.js的容器
   - 处理文件上传和分子数据管理

2. **3Dmol.js**：
   - 基于Three.js的分子可视化库
   - 提供多种分子表示方式
   - 实现3D渲染和交互效果

3. **通信机制**：
   - Flutter与JavaScript之间通过WebView桥接通信
   - 支持动态加载和切换分子模型

## 使用方法

1. **查看内置分子**：
   - 应用启动后，默认显示水分子
   - 点击顶部的分子选择按钮切换不同分子

2. **自定义分子**：
   - 点击"上传自定义分子文件"按钮
   - 选择PDB、MOL、SDF或XYZ格式的分子文件

3. **交互操作**：
   - 使用手指或鼠标拖动旋转分子
   - 使用双指或滚轮缩放分子
   - 点击右下角按钮切换显示样式

## 安装和运行

1. 确保已安装Flutter开发环境
2. 克隆此仓库
3. 安装依赖：
   ```bash
   flutter pub get
   ```
4. 运行应用：
   ```bash
   flutter run
   ```

## 扩展开发

如果您想扩展此应用的功能，可以考虑：

1. 添加更多分子交互选项
2. 实现分子间的对比功能
3. 集成在线分子库
4. 添加分子信息标注功能
5. 支持导出和分享功能

## 许可证

MIT License
